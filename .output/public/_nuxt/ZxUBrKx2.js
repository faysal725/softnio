import{_ as Y}from"./CFiVYx8k.js";import{o as a,c as n,a as e,d as ee,t as _,b as r,r as g,q as U,h as B,x as t,L as se,n as te,V as ae,W as oe,D as le,_ as V,w as b,F as S,y as C,C as A,a4 as ie,M as ne,Q as re,p as O,e as q,A as ce,s as G,v as de}from"./XY3UzohT.js";import{_ as pe}from"./D9G9H3KF.js";import{_ as R}from"./nXvMj9qM.js";import{_ as ue}from"./2wlHjzUZ.js";import{_ as ge}from"./CoVd9YSz.js";import{_ as me}from"./CGZiLFpg.js";import{u as E}from"./DpKUsNxY.js";import{a as I,n as fe}from"./CpvEckui.js";import{u as Q}from"./ChbJ13di.js";import{_ as _e}from"./XMqicWYT.js";import"./CbyYoqDF.js";import"./DsA9KRTZ.js";import"./DikKN7iu.js";import"./BIXwOgyL.js";import"./CgdQur13.js";import"./BqnDH61x.js";import"./Dacbiz2K.js";import"./DxMA2Lzj.js";import"./Bv-Atlu3.js";const he={class:"grid grid-cols-7 gap-3 p-2 border"},ve=["src"],we={class:"col-span-5"},xe={class:"flex justify-between"},be={class:"text-lg font-medium flex items-center gap-2"},ye={key:0,class:"block w-3 h-3 rounded-full bg-gradient-to-b from-white from-green-500 to-green-500"},ke={key:1,class:"block w-3 h-3 rounded-full bg-gradient-to-b from-white from-red-500 to-red-500"},Ae={class:"text-base text-slate-400"},Se={class:"flex"},Ce={class:"text-base"},Ie=e("p",{class:"flex justify-center items-center w-5 h-5 rounded-full bg-red-500 mt-auto text-xs text-white"}," 2 ",-1),Me={__name:"Message",props:{msgData:Object},setup(s){return(o,m)=>(a(),n("div",he,[e("img",{src:s.msgData.profilePic,alt:"",class:"h-full w-full col-span-2"},null,8,ve),e("div",we,[e("div",xe,[e("p",be,[ee(_(s.msgData.name)+" ",1),s.msgData.status=="online"?(a(),n("span",ye)):(a(),n("span",ke))]),e("p",Ae,_(s.msgData.last_online),1)]),e("div",Se,[e("p",Ce,_(s.msgData.message),1),Ie])])]))}},De={class:"p-2 border border-gray-200 dark:border-slate-500 cursor-pointer rounded-xl bg-white dark:bg-blackPrimary"},Pe={class:""},$e={class:"flex justify-between items-center"},Ge={class:"text-base dark:text-slate-200 font-medium flex items-center gap-2"},Be={class:"py-2"},Ue=e("div",{class:"flex justify-between items-end"},[e("p",{class:"text-sm text-slate-500 dark:text-slate-200"},"sdfsdf"),e("p",{class:"flex justify-center items-center w-5 h-5 rounded-full bg-gradient-to-b from-primary to-secondary mt-auto text-xs text-white"}," 2 ")],-1),Le={__name:"GroupMsg",props:{msgData:Object},setup(s){return(o,m)=>{var i;const l=R;return a(),n("div",De,[e("div",Pe,[e("div",$e,[e("p",Ge,_((i=s.msgData)==null?void 0:i.event.title),1)]),e("div",Be,[r(l,{profiles:["/profileImg/1.png","/profileImg/2.png","/profileImg/3.png","/profileImg/4.png","/profileImg/4.png"],classes:"h-10 w-10"},null,8,["profiles"])]),Ue])])}}},je={key:0,class:"w-full h-full"},He=te('<div class="shadow rounded-md p-4 px-0 w-full flex flex-col gap-5"><div class="border border-blue-300 shadow rounded-md w-full p-4"><div class="space-y-3"><div class="h-2 w-28 bg-slate-700 rounded"></div><div class="flex"><div class="h-12 w-12 bg-slate-700 rounded-full col-span-3"></div><div class="h-12 w-12 bg-slate-700 rounded-full col-span-3 -ml-5"></div><div class="h-12 w-12 bg-slate-700 rounded-full col-span-3 -ml-5"></div></div><div class="h-2 w-40 bg-slate-700 rounded"></div></div><div class="h-0.5 w-full bg-slate-700 rounded-full my-5"></div><div class="flex flex-col gap-8"><div class="space-y-3"><div class="flex gap-3"><div class="h-12 w-12 bg-slate-700 rounded-full col-span-3"></div><div class="h-24 w-40 bg-slate-700 rounded"></div></div><div class="flex justify-between"><div class="h-2 w-40 bg-slate-700 rounded"></div></div></div><div class="space-y-3 ml-auto"><div class="flex gap-3"><div class="h-24 w-64 bg-slate-700 rounded"></div><div class="h-12 w-12 bg-slate-700 rounded-full col-span-3"></div></div><div class="flex justify-end"><div class="h-2 w-40 bg-slate-700 rounded"></div></div></div><div class="space-y-3"><div class="flex gap-3"><div class="h-12 w-12 bg-slate-700 rounded-full col-span-3"></div><div class="h-24 w-72 bg-slate-700 rounded"></div></div><div class="flex justify-between"><div class="h-2 w-40 bg-slate-700 rounded"></div></div></div></div><div class="mt-10"><div class="border border-blue-300 shadow rounded-md w-full p-4 h-10"></div></div></div></div>',1),Ne=[He],Fe={__name:"MsgBox",props:{loaderState:{type:Boolean,default:!1}},setup(s){const o=s,m=E(),l=g(!1);return U(()=>{o.loaderState&&(o.loaderState=="pending"?l.value=!0:l.value=!1)}),B(()=>m.loaderState,()=>{o.loaderState||(m.loaderState=="pending"?l.value=!0:l.value=!1)}),B(()=>o.loaderState,()=>{o.loaderState=="pending"?l.value=!0:l.value=!1}),(i,f)=>t(l)?(a(),n("div",je,Ne)):se(i.$slots,"default",{key:1})}},Ve="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.806%205.13807C12.0664%204.87772%2012.0664%204.45561%2011.806%204.19526C11.5457%203.93491%2011.1236%203.93491%2010.8632%204.19526L4.66797%2010.3905L1.80604%207.5286C1.54569%207.26825%201.12358%207.26825%200.863231%207.5286C0.602881%207.78894%200.602881%208.21106%200.863231%208.4714L4.19656%2011.8047C4.45691%2012.0651%204.87902%2012.0651%205.13937%2011.8047L11.806%205.13807Z'%20fill='url(%23paint0_linear_1235_3993)'/%3e%3cpath%20d='M15.1394%205.13807C15.3997%204.87772%2015.3997%204.45561%2015.1394%204.19526C14.879%203.93491%2014.4569%203.93491%2014.1966%204.19526L7.99816%2010.3937C7.73647%2010.1862%207.35507%2010.2034%207.11323%2010.4453C6.85288%2010.7056%206.85288%2011.1277%207.11323%2011.3881L7.5299%2011.8047C7.79025%2012.0651%208.21236%2012.0651%208.47271%2011.8047L15.1394%205.13807Z'%20fill='url(%23paint1_linear_1235_3993)'/%3e%3cpath%20d='M5.55604%207.94526L5.13937%207.5286C4.87902%207.26825%204.45691%207.26825%204.19656%207.5286C3.93621%207.78894%203.93621%208.21106%204.19656%208.4714L4.61323%208.88807C4.87358%209.14842%205.29569%209.14842%205.55604%208.88807C5.81639%208.62772%205.81639%208.20561%205.55604%207.94526Z'%20fill='url(%23paint2_linear_1235_3993)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_1235_3993'%20x1='15.3346'%20y1='12'%20x2='15.3346'%20y2='4'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23FF774D'/%3e%3cstop%20offset='1'%20stop-color='%23FC5A5A'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_1235_3993'%20x1='15.3346'%20y1='12'%20x2='15.3346'%20y2='4'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23FF774D'/%3e%3cstop%20offset='1'%20stop-color='%23FC5A5A'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint2_linear_1235_3993'%20x1='15.3346'%20y1='12'%20x2='15.3346'%20y2='4'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23FF774D'/%3e%3cstop%20offset='1'%20stop-color='%23FC5A5A'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",Oe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF8SURBVHgBlZO9S8NQFMVvbWlBWhA7WRADQjp16iYITk72X3XRWVIQnJzsFBAEpVkMKBUhAcF7zLn0mebzwCHJ+/i9e9+96Uq9+up9vv/ULe5UQGbqI/WEYxv1jfpLKtQtGPPUV+pjgt/UB+oB517UaVPgXH0uWWr36jv1t3qqjgn2qqB7zrtPIFK7Vocct42ABOqReqEeVgGHDuyWT5O9j3hIUAU14ISLHnMwizCSLNV+HdTu8EKye1tKuU65HkWKefBUcnfa5alnjOK5BAbAmABE9s71O1AA0bQzwiIp1yvX+rLt0QEDGhEa9qS5kFKgXnOz2/RC6ADAxBloolC2LWUR4spOwOrJ/yq2VUIfSnavqbXNmif50l7Yg+xW+DDgE09C6MMWMPeH+Cuo9SF68EMK+qoGtmB0D3kg9MmnRwMYl8CQ5qVkbYS/a2UTnZLFc568IdTAGEM1UV1c0ZLZSBXQNqLP0MDj3BwKGDGqJL+xDOjKeg1KiyCufgGq416SVPTfzAAAAABJRU5ErkJggg==",qe="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='white'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.832031%2010.0002C0.832031%204.93755%204.93609%200.833496%209.9987%200.833496C10.2197%200.833496%2010.4317%200.921293%2010.588%201.07757L18.9213%209.41091C19.0776%209.56719%2019.1654%209.77915%2019.1654%2010.0002C19.1654%2015.0628%2015.0613%2019.1668%209.9987%2019.1668C4.93609%2019.1668%200.832031%2015.0628%200.832031%2010.0002ZM8.90428%202.57944C5.28089%203.10919%202.4987%206.22977%202.4987%2010.0002C2.4987%2014.1423%205.85656%2017.5002%209.9987%2017.5002C13.7961%2017.5002%2016.9343%2014.678%2017.4304%2011.0166C16.9759%2011.0745%2016.4069%2011.1163%2015.7757%2011.0934C14.2201%2011.0368%2012.1983%2010.5808%2010.638%208.90054C9.09573%207.23959%208.74592%205.33887%208.77491%203.88975C8.78476%203.39716%208.83812%202.95237%208.90428%202.57944ZM10.48%203.32663L16.5747%209.42133C16.3441%209.43346%2016.0961%209.43724%2015.8363%209.4278C14.5273%209.3802%2013.0074%209.00285%2011.8594%207.76645C10.6933%206.51073%2010.4181%205.07812%2010.4412%203.92308C10.4454%203.71273%2010.4596%203.51284%2010.48%203.32663Z'%20fill='white'%20fill-opacity='0.4'/%3e%3c/svg%3e",Re=ae();Re.use(oe);const M=le("messageDetailsStore",{state:()=>({currentGroupId:null,currentGroupDetails:null,currentMessageDetails:null,loaderState:null,shouldReload:!1}),persist:!0,actions:{getCurrentMessageDetails(s){return this.currentGroupId==s?this.currentMessageDetails:null},setCurrentGroupDetails(s,o){console.log(o),this.currentGroupDetails=o,this.currentGroupId=s},setCurrentMessageDetails(s,o){this.currentGroupId=s,this.currentMessageDetails=o},clearMessageDetailsData(){this.currentGroupId=null,this.currentMessageDetails=null,this.currentGroupDetails=null,this.loaderState=null},setLoaderState(s){this.loaderState=s},getLoaderState(){return this.loaderState},setShouldReload(s){this.shouldReload=s}}}),y=s=>(O("data-v-5d09931d"),s=s(),q(),s),Ee={class:"space-y-10"},Qe={key:0,class:"flex flex-col items-center gap-3 h-[70vh] lg:h-screen w-full px-4 lg:px-20"},We={class:"bg-whitePrimary dark:bg-blackPrimary w-full lg:p-8 relative rounded-xl overflow-hidden"},Ke={class:"flex justify-between items-center"},Je={class:"py-2"},Te={class:"text-lg font-medium flex items-center gap-2 capitalize dark:text-white"},ze=y(()=>e("section",{class:"py-5 flex flex-col items-center"},[e("span",{class:"block w-full h-0.5 bg-slate-200 dark:bg-slate-400"}),e("p",{class:"-mt-3 bg-whitePrimary dark:bg-blackPrimary w-20 text-center text-slate-500 dark:text-slate-200 text-xs"}," Today ")],-1)),Xe={class:"flex flex-col gap-10 h-[40vh] md:h-[44vh] lg:h-[60vh] overflow-y-scroll scrollbar-style pr-2"},Ze=["src"],Ye={class:"text-white"},es=y(()=>e("div",{class:"flex gap-2"},[e("img",{src:Ve,alt:""})],-1)),ss={class:"w-full h-10 lg:h-14 sticky bottom-0 right-0 flex gap-4 mt-3"},ts=y(()=>e("img",{class:"absolute top-2 lg:top-4 h-6 w-6 right-3 block dark:hidden",src:Oe,alt:""},null,-1)),as=y(()=>e("img",{class:"absolute top-2 lg:top-4 h-6 w-6 right-3 hidden dark:block",src:qe,alt:""},null,-1)),os={key:1,class:"flex flex-col items-center justify-center gap-3 h-[70vh] lg:h-screen w-full px-4 lg:px-20"},ls=y(()=>e("p",{class:"text-2xl font-semibold text-red-600/80"},"Select a group first",-1)),is=[ls],ns={__name:"Box",setup(s){const o=I()+"/api/conversation/send-sms";let m=I()+"/api/conversation/list/";const l=Q(),i=M();M();const f=E(),h=g({message:null});g();const D=g(),w=async d=>{await ce().$toast.info(d)},L=async()=>{console.log(h.value.message);const d={eventUid:i.currentGroupId,message:h.value.message};await l.store({body:d,path:o}).then(c=>{c.status==200?(h.value.message="",k(i.currentGroupId)):w("Message send failed! Please try again.")})},k=async d=>{await l.index({path:m+d}).then(c=>{c.status==200&&(console.log(c.res.data.data),D.value=c.res.data.data)})};return U(()=>{i.currentGroupId&&k(i.currentGroupId)}),B(()=>i.currentGroupId,()=>{console.log("this is working"),k(i.currentGroupId)},{deep:!0}),(d,c)=>{const P=R,x=me,$=Fe;return a(),n("div",Ee,[t(i).currentGroupId?(a(),n("div",Qe,[r($,{loaderState:t(i).loaderState},{default:b(()=>[e("div",We,[e("section",Ke,[e("div",Je,[e("p",Te,_(t(i).currentGroupDetails.event.title),1),r(P,{profiles:["/profileImg/1.png","/profileImg/2.png","/profileImg/3.png","/profileImg/4.png","/profileImg/4.png"],classes:"h-10 w-10"},null,8,["profiles"])]),r(x,{options:[{key:0,value:"Leave Chat"},{key:1,value:"View this event"}]})]),ze,e("section",Xe,[(a(!0),n(S,null,C(t(D),(p,v)=>(a(),n("div",{class:A(["max-w-xs space-y-3",t(f).profileData._id==p.userUid?"ml-auto":"mr-auto"])},[e("section",{class:A(["flex gap-2",t(f).profileData._id==p.userUid?"flex-row-reverse":""])},[e("img",{src:("networkImage"in d?d.networkImage:t(fe))(p.user.profile_image),alt:"",class:"h-10 w-10 rounded-full object-cover"},null,8,Ze),e("div",{class:A(["text-sm font-base p-4 rounded-lg",t(f).profileData._id==p.userUid?"pr-4 bg-gray-400 dark:bg-blue-500":"pl-4 bg-primary dark:bg-slate-300/10"])},[e("p",Ye,_(p.message),1)],2)],2),e("div",{class:A(["flex gap-6 text-slate-500 dark:text-slate-200 text-xs",v%2?"justify-end":"justify-start"])},[e("p",null,_(p.user.first_name),1),es],2)],2))),256))]),e("section",ss,[e("form",{onSubmit:ie(L,["prevent"]),class:"border grow border-slate-300 rounded-xl overflow-hidden relative"},[ne(e("input",{"onUpdate:modelValue":c[0]||(c[0]=p=>t(h).message=p),type:"text",placeholder:"Your Message",class:"h-full w-full border-none outline-none text-sm px-8 bg-white dark:bg-blackPrimary dark:text-white"},null,512),[[re,t(h).message]]),ts,as],32)])])]),_:1},8,["loaderState"])])):(a(),n("div",os,is))])}}},rs=V(ns,[["__scopeId","data-v-5d09931d"]]),W=s=>(O("data-v-1b930e21"),s=s(),q(),s),cs={class:"grid grid-cols-12"},ds={class:"col-span-12 lg:col-span-3 px-4 min-h-screen bg-whitePrimary dark:bg-blackPrimary"},ps={class:"flex lg:hidden items-center py-5 gap-3"},us=W(()=>e("p",{class:"text-base font-bold dark:text-white"},"All Messages",-1)),gs={key:0,class:"space-y-2 pt-5"},ms={key:1,class:"flex flex-col gap-4 h-[80vh] lg:h-[800px] overflow-y-scroll scrollbar-hide relative"},fs={class:"flex justify-between items-start flex-col gap-6 sticky top-0 right-0 bg-whitePrimary dark:bg-blackPrimary py-5"},_s=W(()=>e("p",{class:"hidden lg:block text-base font-bold dark:text-white"}," All Messages ",-1)),hs={class:"flex lg:hidden flex-col gap-4"},vs={class:"hidden lg:flex flex-col gap-4"},ws={class:"hidden lg:block col-span-12 lg:col-span-9 max-h-screen lg:-mt-4"},xs={class:"max-w-7xl mx-auto gap-6"},bs={class:"w-full px-4 lg:px-20 pb-5"},ys={__name:"index",setup(s){let o=I()+"/api/event/joined-events";I()+"";const m=Q(),l=M(),{getCurrentMessageDetails:i,setCurrentGroupDetails:f,setCurrentMessageDetails:h,clearMessageDetailsData:D,setLoaderState:w,setShouldReload:L,getLoaderState:k}=M();g(!1);const d=g("group"),c=g(!1),P=[{name:"Peter Pan",message:"Hi, How are you? Nice to meet you?",profilePic:"/profileImg/1.png",last_online:"3:45 PM",status:"online"},{name:"Peter Pan",message:"Hi, How are you? Nice to meet you?",profilePic:"/profileImg/2.png",last_online:"3:45 PM",status:"offline"},{name:"Peter Pan",message:"Hi, How are you? Nice to meet you?",profilePic:"/profileImg/3.png",last_online:"3:45 PM",status:"online"},{name:"Peter Pan",message:"Hi, How are you? Nice to meet you?",profilePic:"/profileImg/4.png",last_online:"3:45 PM",status:"online"},{name:"Peter Pan",message:"Hi, How are you? Nice to meet you?",profilePic:"/profileImg/5.png",last_online:"3:45 PM",status:"online"}],x=g();g({name:"Group Name",message:"Hi, How are you? Nice to meet you?",profilePic:"/profileImg/1.png",last_online:"3:45 PM",status:"online",joiners:["/profileImg/1.png","/profileImg/2.png","/profileImg/3.png","/profileImg/4.png","/profileImg/4.png"],chatHistory:[{imgSrc:"/profileImg/1.png",name:"People Name",time:"2:55 PM",msg:"Hi Jake, how are you? I saw on the app that we’ve crossed paths several times this week 😄"},{imgSrc:"/profileImg/2.png",name:"People Name",time:"2:55 PM",msg:"Hi Jake, how are you? I saw on the app that we’ve crossed paths several times this week 😄"},{imgSrc:"/profileImg/3.png",name:"People Name",time:"2:55 PM",msg:"Hi Jake, how are you? I saw on the app that we’ve crossed paths several times this week 😄"},{imgSrc:"/profileImg/1.png",name:"People Name",time:"2:55 PM",msg:"Hi Jake, how are you? I saw on the app that we’ve crossed paths several times this week 😄"},{imgSrc:"/profileImg/1.png",name:"People Name",time:"2:55 PM",msg:"Hi Jake, how are you? I saw on the app that we’ve crossed paths several times this week 😄"},{imgSrc:"/profileImg/1.png",name:"People Name",time:"2:55 PM",msg:"Hi Jake, how are you? I saw on the app that we’ve crossed paths several times this week 😄"}]}),g();function $(){c.value=!0}const p=async()=>{w("pending"),await m.index({path:o}).then(v=>{v.status==200?(console.log(v.res.data.data,"runn"),x.value=v.res.data.data,w("resolved")):w("failed")})};return U(()=>{p()}),(v,j)=>{const K=Y,J=Me,T=pe,H=Le,N=ue,z=ge,F=rs,X=_e,Z=de;return a(),G(Z,{name:"verified",classes:"max-h-screen overflow-hidden"},{default:b(()=>[e("div",cs,[e("div",ds,[e("div",ps,[r(K),us]),t(d)=="messages"?(a(),n("div",gs,[(a(),n(S,null,C(P,u=>r(J,{msgData:u},null,8,["msgData"])),64))])):(a(),n("div",ms,[e("div",fs,[_s,r(T,{classes:"h-8 rounded-full border border-lightGrey px-5 flex items-center w-full font-base bg-[#FBFBFB]"})]),e("div",hs,[r(N,{loaderState:t(l).loaderState},{default:b(()=>[(a(!0),n(S,null,C(t(x),u=>(a(),G(H,{onClick:()=>{t(f)(u.event._id,u),$()},msgData:u},null,8,["onClick","msgData"]))),256))]),_:1},8,["loaderState"])]),e("div",vs,[r(N,{loaderState:t(l).loaderState},{default:b(()=>[(a(!0),n(S,null,C(t(x),u=>(a(),G(H,{msgData:u,onClick:()=>t(f)(u.event._id,u)},null,8,["msgData","onClick"]))),256))]),_:1},8,["loaderState"])])]))]),e("section",ws,[e("section",xs,[e("div",bs,[r(z)]),r(F)])]),r(X,{shouldOpen:t(c),onUpdateInput:j[0]||(j[0]=u=>c.value=!1)},{default:b(()=>[r(F)]),_:1},8,["shouldOpen"])])]),_:1})}}},Rs=V(ys,[["__scopeId","data-v-1b930e21"]]);export{Rs as default};
