import{G as M,r as g,K as Q,h as k,a8 as ne,a9 as oe,x as re,q as Z,R as z,m as K,ao as J,aB as ie,f as ae,X as Y}from"./XY3UzohT.js";function _(e){return ne()?(oe(e),!0):!1}function y(e){return typeof e=="function"?e():re(e)}const N=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const se=e=>e!=null,ue=Object.prototype.toString,le=e=>ue.call(e)==="[object Object]",b=()=>{},ce=fe();function fe(){var e,t;return N&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function ee(e,t){function n(...o){return new Promise((r,i)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(r).catch(i)})}return n}function de(e,t={}){let n,o,r=b;const i=a=>{clearTimeout(a),r(),r=b};return a=>{const s=y(e),u=y(t.maxWait);return n&&i(n),s<=0||u!==void 0&&u<=0?(o&&(i(o),o=null),Promise.resolve(a())):new Promise((f,v)=>{r=t.rejectOnCancel?v:f,u&&!o&&(o=setTimeout(()=>{n&&i(n),o=null,f(a())},u)),n=setTimeout(()=>{o&&i(o),o=null,f(a())},s)})}}function me(...e){let t=0,n,o=!0,r=b,i,c,a,s,u;!Q(e[0])&&typeof e[0]=="object"?{delay:c,trailing:a=!0,leading:s=!0,rejectOnCancel:u=!1}=e[0]:[c,a=!0,s=!0,u=!1]=e;const f=()=>{n&&(clearTimeout(n),n=void 0,r(),r=b)};return l=>{const m=y(c),d=Date.now()-t,h=()=>i=l();return f(),m<=0?(t=Date.now(),h()):(d>m&&(s||!o)?(t=Date.now(),h()):a&&(i=new Promise((S,w)=>{r=u?w:S,n=setTimeout(()=>{t=Date.now(),o=!0,S(h()),f()},Math.max(0,m-d))})),!s&&!n&&(n=setTimeout(()=>o=!0,m)),o=!1,i)}}function ve(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const o=t;t=void 0,o&&await o},n}function pe(e){return e||K()}function he(e,t=200,n={}){return ee(de(t,n),e)}function we(e,t=200,n=!1,o=!0,r=!1){return ee(me(t,n,o,r),e)}function ge(e,t=!0,n){pe()?Z(e,n):t?e():z(e)}const Se=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ye=/[YMDHhms]o|\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g;function be(e,t,n,o){let r=e<12?"AM":"PM";return o&&(r=r.split("").reduce((i,c)=>i+=`${c}.`,"")),n?r.toLowerCase():r}function P(e){const t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}function De(e,t,n={}){var o;const r=e.getFullYear(),i=e.getMonth(),c=e.getDate(),a=e.getHours(),s=e.getMinutes(),u=e.getSeconds(),f=e.getMilliseconds(),v=e.getDay(),l=(o=n.customMeridiem)!=null?o:be,m={Yo:()=>P(r),YY:()=>String(r).slice(-2),YYYY:()=>r,M:()=>i+1,Mo:()=>P(i+1),MM:()=>`${i+1}`.padStart(2,"0"),MMM:()=>e.toLocaleDateString(n.locales,{month:"short"}),MMMM:()=>e.toLocaleDateString(n.locales,{month:"long"}),D:()=>String(c),Do:()=>P(c),DD:()=>`${c}`.padStart(2,"0"),H:()=>String(a),Ho:()=>P(a),HH:()=>`${a}`.padStart(2,"0"),h:()=>`${a%12||12}`.padStart(1,"0"),ho:()=>P(a%12||12),hh:()=>`${a%12||12}`.padStart(2,"0"),m:()=>String(s),mo:()=>P(s),mm:()=>`${s}`.padStart(2,"0"),s:()=>String(u),so:()=>P(u),ss:()=>`${u}`.padStart(2,"0"),SSS:()=>`${f}`.padStart(3,"0"),d:()=>v,dd:()=>e.toLocaleDateString(n.locales,{weekday:"narrow"}),ddd:()=>e.toLocaleDateString(n.locales,{weekday:"short"}),dddd:()=>e.toLocaleDateString(n.locales,{weekday:"long"}),A:()=>l(a,s),AA:()=>l(a,s,!1,!0),a:()=>l(a,s,!0),aa:()=>l(a,s,!0,!0)};return t.replace(ye,(d,h)=>{var S,w;return(w=h??((S=m[d])==null?void 0:S.call(m)))!=null?w:d})}function Ee(e){if(e===null)return new Date(Number.NaN);if(e===void 0)return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){const t=e.match(Se);if(t){const n=t[2]-1||0,o=(t[7]||"0").substring(0,3);return new Date(t[1],n,t[3]||1,t[4]||0,t[5]||0,t[6]||0,o)}}return new Date(e)}function ke(e,t="HH:mm:ss",n={}){return M(()=>De(Ee(y(e)),y(t),n))}function Me(e,t=1e3,n={}){const{immediate:o=!0,immediateCallback:r=!1}=n;let i=null;const c=g(!1);function a(){i&&(clearInterval(i),i=null)}function s(){c.value=!1,a()}function u(){const f=y(t);f<=0||(c.value=!0,r&&e(),a(),i=setInterval(e,f))}if(o&&N&&u(),Q(t)||typeof t=="function"){const f=k(t,()=>{c.value&&N&&u()});_(f)}return _(s),{isActive:c,pause:s,resume:u}}function T(e){var t;const n=y(e);return(t=n==null?void 0:n.$el)!=null?t:n}const F=N?window:void 0,R=N?window.navigator:void 0;function O(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=F):[t,n,o,r]=e,!t)return b;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const i=[],c=()=>{i.forEach(f=>f()),i.length=0},a=(f,v,l,m)=>(f.addEventListener(v,l,m),()=>f.removeEventListener(v,l,m)),s=k(()=>[T(t),y(r)],([f,v])=>{if(c(),!f)return;const l=le(v)?{...v}:v;i.push(...n.flatMap(m=>o.map(d=>a(f,m,d,l))))},{immediate:!0,flush:"post"}),u=()=>{s(),c()};return _(u),u}let X=!1;function xe(e,t,n={}){const{window:o=F,ignore:r=[],capture:i=!0,detectIframe:c=!1}=n;if(!o)return b;ce&&!X&&(X=!0,Array.from(o.document.body.children).forEach(l=>l.addEventListener("click",b)),o.document.documentElement.addEventListener("click",b));let a=!0;const s=l=>r.some(m=>{if(typeof m=="string")return Array.from(o.document.querySelectorAll(m)).some(d=>d===l.target||l.composedPath().includes(d));{const d=T(m);return d&&(l.target===d||l.composedPath().includes(d))}}),f=[O(o,"click",l=>{const m=T(e);if(!(!m||m===l.target||l.composedPath().includes(m))){if(l.detail===0&&(a=!s(l)),!a){a=!0;return}t(l)}},{passive:!0,capture:i}),O(o,"pointerdown",l=>{const m=T(e);a=!s(l)&&!!(m&&!l.composedPath().includes(m))},{passive:!0}),c&&O(o,"blur",l=>{setTimeout(()=>{var m;const d=T(e);((m=o.document.activeElement)==null?void 0:m.tagName)==="IFRAME"&&!(d!=null&&d.contains(o.document.activeElement))&&t(l)},0)})].filter(Boolean);return()=>f.forEach(l=>l())}function Ae(){const e=g(!1),t=K();return t&&Z(()=>{e.value=!0},t),e}function x(e){const t=Ae();return M(()=>(t.value,!!e()))}function Te(e,t={}){const{immediate:n=!0,fpsLimit:o=void 0,window:r=F}=t,i=g(!1),c=o?1e3/o:null;let a=0,s=null;function u(l){if(!i.value||!r)return;a||(a=l);const m=l-a;if(c&&m<c){s=r.requestAnimationFrame(u);return}a=l,e({delta:m,timestamp:l}),s=r.requestAnimationFrame(u)}function f(){!i.value&&r&&(i.value=!0,a=0,s=r.requestAnimationFrame(u))}function v(){i.value=!1,s!=null&&r&&(r.cancelAnimationFrame(s),s=null)}return n&&f(),_(v),{isActive:ie(i),pause:v,resume:f}}function He(e,t={}){const{window:n=F}=t,o=x(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const i=g(!1),c=u=>{i.value=u.matches},a=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",c):r.removeListener(c))},s=ae(()=>{o.value&&(a(),r=n.matchMedia(y(e)),"addEventListener"in r?r.addEventListener("change",c):r.addListener(c),i.value=r.matches)});return _(()=>{s(),a(),r=void 0}),i}function _e(e,t={}){const{controls:n=!1,navigator:o=R}=t,r=x(()=>o&&"permissions"in o);let i;const c=typeof e=="string"?{name:e}:e,a=g(),s=()=>{i&&(a.value=i.state)},u=ve(async()=>{if(r.value){if(!i)try{i=await o.permissions.query(c),O(i,"change",s),s()}catch{a.value="prompt"}return i}});return u(),n?{state:a,isSupported:r,query:u}:a}function We(e={}){const{navigator:t=R,requestPermissions:n=!1,constraints:o={audio:!0,video:!0},onUpdated:r}=e,i=g([]),c=M(()=>i.value.filter(d=>d.kind==="videoinput")),a=M(()=>i.value.filter(d=>d.kind==="audioinput")),s=M(()=>i.value.filter(d=>d.kind==="audiooutput")),u=x(()=>t&&t.mediaDevices&&t.mediaDevices.enumerateDevices),f=g(!1);let v;async function l(){u.value&&(i.value=await t.mediaDevices.enumerateDevices(),r==null||r(i.value),v&&(v.getTracks().forEach(d=>d.stop()),v=null))}async function m(){if(!u.value)return!1;if(f.value)return!0;const{state:d,query:h}=_e("camera",{controls:!0});return await h(),d.value!=="granted"&&(v=await t.mediaDevices.getUserMedia(o),l()),f.value=!0,f.value}return u.value&&(n&&m(),O(t.mediaDevices,"devicechange",l),l()),{devices:i,ensurePermissions:m,permissionGranted:f,videoInputs:c,audioInputs:a,audioOutputs:s,isSupported:u}}function Ie(e,t,n={}){const{root:o,rootMargin:r="0px",threshold:i=.1,window:c=F,immediate:a=!0}=n,s=x(()=>c&&"IntersectionObserver"in c),u=M(()=>{const d=y(e);return(Array.isArray(d)?d:[d]).map(T).filter(se)});let f=b;const v=g(a),l=s.value?k(()=>[u.value,T(o),v.value],([d,h])=>{if(f(),!v.value||!d.length)return;const S=new IntersectionObserver(t,{root:T(h),rootMargin:r,threshold:i});d.forEach(w=>w&&S.observe(w)),f=()=>{S.disconnect(),f=b}},{immediate:a,flush:"post"}):b,m=()=>{f(),l(),v.value=!1};return _(m),{isSupported:s,isActive:v,pause(){f(),v.value=!1},resume(){v.value=!0},stop:m}}function Le(e,t={}){const{window:n=F,scrollTarget:o,threshold:r=0}=t,i=g(!1);return Ie(e,c=>{let a=i.value,s=0;for(const u of c)u.time>=s&&(s=u.time,a=u.isIntersecting);i.value=a},{root:o,window:n,threshold:r}),i}function Ne(e={}){const{enableHighAccuracy:t=!0,maximumAge:n=3e4,timeout:o=27e3,navigator:r=R,immediate:i=!0}=e,c=x(()=>r&&"geolocation"in r),a=g(null),s=J(null),u=g({accuracy:0,latitude:Number.POSITIVE_INFINITY,longitude:Number.POSITIVE_INFINITY,altitude:null,altitudeAccuracy:null,heading:null,speed:null});function f(d){a.value=d.timestamp,u.value=d.coords,s.value=null}let v;function l(){c.value&&(v=r.geolocation.watchPosition(f,d=>s.value=d,{enableHighAccuracy:t,maximumAge:n,timeout:o}))}i&&l();function m(){v&&r&&r.geolocation.clearWatch(v)}return _(()=>{m()}),{isSupported:c,coords:u,locatedAt:a,error:s,resume:l,pause:m}}const B=1;function Pe(e,t={}){const{throttle:n=0,idle:o=200,onStop:r=b,onScroll:i=b,offset:c={left:0,right:0,top:0,bottom:0},eventListenerOptions:a={capture:!1,passive:!0},behavior:s="auto",window:u=F,onError:f=p=>{console.error(p)}}=t,v=g(0),l=g(0),m=M({get(){return v.value},set(p){h(p,void 0)}}),d=M({get(){return l.value},set(p){h(void 0,p)}});function h(p,I){var D,H,W;if(!u)return;const A=y(e);A&&((W=A instanceof Document?u.document.body:A)==null||W.scrollTo({top:(D=y(I))!=null?D:d.value,left:(H=y(p))!=null?H:m.value,behavior:y(s)}))}const S=g(!1),w=Y({left:!0,right:!1,top:!0,bottom:!1}),E=Y({left:!1,right:!1,top:!1,bottom:!1}),q=p=>{S.value&&(S.value=!1,E.left=!1,E.right=!1,E.top=!1,E.bottom=!1,r(p))},te=he(q,n+o),C=p=>{var I;if(!u)return;const D=((I=p==null?void 0:p.document)==null?void 0:I.documentElement)||(p==null?void 0:p.documentElement)||T(p),{display:H,flexDirection:W}=getComputedStyle(D),A=D.scrollLeft;E.left=A<v.value,E.right=A>v.value;const j=Math.abs(A)<=(c.left||0),V=Math.abs(A)+D.clientWidth>=D.scrollWidth-(c.right||0)-B;H==="flex"&&W==="row-reverse"?(w.left=V,w.right=j):(w.left=j,w.right=V),v.value=A;let L=D.scrollTop;p===u.document&&!L&&(L=u.document.body.scrollTop),E.top=L<l.value,E.bottom=L>l.value;const G=Math.abs(L)<=(c.top||0),U=Math.abs(L)+D.clientHeight>=D.scrollHeight-(c.bottom||0)-B;H==="flex"&&W==="column-reverse"?(w.top=U,w.bottom=G):(w.top=G,w.bottom=U),l.value=L},$=p=>{var I;if(!u)return;const D=(I=p.target.documentElement)!=null?I:p.target;C(D),S.value=!0,te(p),i(p)};return O(e,"scroll",n?we($,n,!0,!1):$,a),ge(()=>{try{const p=y(e);if(!p)return;C(p)}catch(p){f(p)}}),O(e,"scrollend",q,a),{x:m,y:d,isScrolling:S,arrivedState:w,directions:E,measure(){const p=y(e);u&&p&&C(p)}}}function Oe(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}function Re(e,t,n={}){var o;const{direction:r="bottom",interval:i=100,canLoadMore:c=()=>!0}=n,a=Y(Pe(e,{...n,offset:{[r]:(o=n.distance)!=null?o:0,...n.offset}})),s=g(),u=M(()=>!!s.value),f=M(()=>Oe(y(e))),v=Le(f);function l(){if(a.measure(),!f.value||!v.value||!c(f.value))return;const{scrollHeight:m,clientHeight:d,scrollWidth:h,clientWidth:S}=f.value,w=r==="bottom"||r==="top"?m<=d:h<=S;(a.arrivedState[r]||w)&&(s.value||(s.value=Promise.all([t(a),new Promise(E=>setTimeout(E,i))]).finally(()=>{s.value=null,z(()=>l())})))}return k(()=>[a.arrivedState[r],v.value],l,{immediate:!0}),{isLoading:u}}function Ce(e={}){const{controls:t=!1,interval:n="requestAnimationFrame"}=e,o=g(new Date),r=()=>o.value=new Date,i=n==="requestAnimationFrame"?Te(r,{immediate:!0}):Me(r,n,{immediate:!0});return t?{now:o,...i}:o}function Ye(e={}){var t,n;const o=g((t=e.enabled)!=null?t:!1),r=g((n=e.autoSwitch)!=null?n:!0),i=g(e.constraints),{navigator:c=R}=e,a=x(()=>{var h;return(h=c==null?void 0:c.mediaDevices)==null?void 0:h.getUserMedia}),s=J();function u(h){switch(h){case"video":{if(i.value)return i.value.video||!1;break}case"audio":{if(i.value)return i.value.audio||!1;break}}}async function f(){if(!(!a.value||s.value))return s.value=await c.mediaDevices.getUserMedia({video:u("video"),audio:u("audio")}),s.value}function v(){var h;(h=s.value)==null||h.getTracks().forEach(S=>S.stop()),s.value=void 0}function l(){v(),o.value=!1}async function m(){return await f(),s.value&&(o.value=!0),s.value}async function d(){return v(),await m()}return k(o,h=>{h?f():v()},{immediate:!0}),k(i,()=>{r.value&&s.value&&d()},{immediate:!0}),_(()=>{l()}),{isSupported:a,stream:s,start:m,stop:l,restart:d,constraints:i,enabled:o,autoSwitch:r}}export{Ce as a,We as b,Ye as c,Re as d,Ne as e,He as f,xe as o,ke as u};
